<div class="comment-container container-fluid px-3 px-md-4 my-4 my-md-5">
  <h2 class="comment-header mb-4" id="comment-header">
    <% if (type === 'changelog') { %> Comments for Changelog #<%= itemId %> <% }
    else if (type === 'season') { %> Comments for Season <%= itemId %> <% } else
    if (type === 'trade') { %> Comments for Trade #<%= itemId %> <% } else { %>
    Comments for <%= itemName %>
    <span class="text-muted"
      >(<%= type.charAt(0).toUpperCase() + type.slice(1) %>)</span
    >
    <% } %>
  </h2>

  <div class="row justify-content-center">
    <div class="col-md-12">
      <!-- Comment submission form -->
      <form id="comment-form" class="mb-4">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            id="commenter-text"
            placeholder="Login to comment"
            required
          />
          <button
            type="submit"
            class="btn btn-primary"
            id="submit-comment"
          ></button>
        </div>
        <small id="char-counter" class="text-muted mt-1" style="display: none">
          <span id="char-count">0</span> / <span id="char-limit">200</span> characters
        </small>
      </form>

      <div class="d-flex justify-content-end mb-3">
        <select
          id="comment-sort"
          class="form-select form-select-sm"
          style="width: auto"
        >
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
        </select>
      </div>

      <!-- Comment List -->
      <ul id="comments-list" class="list-group shadow-sm">
        <!-- Comments will be dynamically added here -->
      </ul>

      <!-- Pagination -->
      <div
        id="paginationControls"
        class="pagination d-flex align-items-center"
      ></div>
    </div>
  </div>
</div>

<!-- Edit Comment Modal -->
<div
  class="modal fade"
  id="editCommentModal"
  tabindex="-1"
  aria-labelledby="editCommentModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editCommentModalLabel">Edit Comment</h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="editCommentText" class="form-label"
            >Edit your comment below:</label
          >
          <textarea
            class="form-control"
            id="editCommentText"
            rows="3"
          ></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="button" class="btn btn-primary" id="saveCommentEdit">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>
